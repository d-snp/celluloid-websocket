[ 2015-02-01 11:41:15.3579 5560/7f2ef19f6780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xeGs1dnFwL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1xk5vqp/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '5559', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 11:41:15.4624 5563/7f7b744a5780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.5559/generation-0/request
[ 2015-02-01 11:41:15.5350 5570/7f686e12c780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.5559/generation-0/logging
[ 2015-02-01 11:41:15.5353 5560/7f2ef19f6780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 5599 stdout: 
App 5599 stdout: 
[ 2015-02-01 11:41:18.0585 5563/7f7b743bf700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 11:41:18.0587 5563/7f7b722a0700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
uninitialized constant Celluloid (NameError)
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 11:42:41.0752 5773/7fa34596b780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS40MWVlanQvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.41eejt/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '5772', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 11:42:41.0822 5776/7fda64f22780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.5772/generation-0/request
[ 2015-02-01 11:42:41.0922 5782/7ff30bec7780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.5772/generation-0/logging
[ 2015-02-01 11:42:41.0924 5773/7fa34596b780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 5810 stdout: 
App 5810 stdout: 
[ 2015-02-01 11:42:43.6839 5776/7fda64e3c700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 11:42:43.6841 5776/7fda62d1d700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
cannot load such file -- celluloid/websocket/rack (LoadError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 11:50:38.6100 8130/7f6058640780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xNWJhemx0L3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.15bazlt/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '8129', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 11:50:38.6165 8133/7f525d3fe780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.8129/generation-0/request
[ 2015-02-01 11:50:38.6281 8138/7f77faffa780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.8129/generation-0/logging
[ 2015-02-01 11:50:38.6285 8130/7f6058640780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 8175 stdout: 
App 8175 stdout: 
[ 2015-02-01 11:50:41.2063 8133/7f525d318700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 11:50:41.2065 8133/7f524effd700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
uninitialized constant Reel::WebSocket::ConnectionMixin (NameError)
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:7:in `<class:WebSocket>'
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:5:in `<module:Reel>'
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:4:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:2:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 11:52:25.4057 8334/7f0b32167780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5peXliYjEvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.iyybb1/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '8333', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 11:52:25.4130 8337/7f9a55cda780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.8333/generation-0/request
[ 2015-02-01 11:52:25.4232 8343/7f4a086c4780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.8333/generation-0/logging
[ 2015-02-01 11:52:25.4236 8334/7f0b32167780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 8381 stdout: 
App 8381 stdout: 
[ 2015-02-01 11:52:27.9983 8337/7f9a55bf4700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 11:52:27.9986 8337/7f9a477fe700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
Rack is not a class (TypeError)
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:8:in `<module:WebSocket>'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:7:in `<module:Celluloid>'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:6:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 11:53:01.1057 8481/7f7c14523780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xYnZpNW9iL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1bvi5ob/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '8480', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 11:53:01.1131 8484/7f37ba7fb780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.8480/generation-0/request
[ 2015-02-01 11:53:01.1241 8490/7f6b19a6b780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.8480/generation-0/logging
[ 2015-02-01 11:53:01.1245 8481/7f7c14523780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 8526 stdout: 
App 8526 stdout: 
[ 2015-02-01 11:53:03.6971 8484/7f37ba715700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 11:53:03.6974 8484/7f37a3fff700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
superclass mismatch for class Rack (TypeError)
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:8:in `<module:WebSocket>'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:7:in `<module:Celluloid>'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:6:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 11:58:03.9474 8710/7fd38ab1d780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5pd2tyYjkvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.iwkrb9/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '8709', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 11:58:03.9547 8713/7f92766c8780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.8709/generation-0/request
[ 2015-02-01 11:58:03.9654 8719/7ff4880ed780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.8709/generation-0/logging
[ 2015-02-01 11:58:03.9657 8710/7fd38ab1d780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 8755 stdout: 
App 8755 stdout: 
[ 2015-02-01 11:58:06.5401 8713/7f92765e2700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 11:58:06.5404 8713/7f925ffff700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
undefined method `on_message' for WebSocketEcho:Class (NoMethodError)
  message_counter.ru:8:in `<class:WebSocketEcho>'
  message_counter.ru:3:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 12:08:15.8696 8983/7f24f9a2a780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5odnVuZnEvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.hvunfq/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '8982', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 12:08:15.8756 8986/7f063cbd7780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.8982/generation-0/request
[ 2015-02-01 12:08:15.8850 8993/7f7b61744780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.8982/generation-0/logging
[ 2015-02-01 12:08:15.8862 8983/7f24f9a2a780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 9030 stdout: 
App 9030 stdout: 
[ 2015-02-01 12:08:18.4677 8986/7f063caf1700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 12:08:18.4680 8986/7f063a9d2700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
cannot load such file -- celluloid/rack/version (LoadError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:1:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 12:41:29.7758 9552/7f293abba780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS52N3FiancvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.v7qbjw/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '9551', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 12:41:29.7818 9555/7f11bd712780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.9551/generation-0/request
[ 2015-02-01 12:41:29.7916 9560/7f1b74e31780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.9551/generation-0/logging
[ 2015-02-01 12:41:29.7919 9552/7f293abba780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 9597 stdout: 
[ 2015-02-01 12:41:32.3747 9555/7f11bd62c700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 9597, listening on unix:/tmp/passenger.1.0.9551/generation-0/backends/preloader.9597
App 9616 stdout: 
App 9597 stderr: NoMethodError: undefined method `split' for nil:NilClass
App 9597 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:12:in `call'
App 9597 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 9597 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 9597 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 9597 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 9597 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
App 9597 stderr: 
[ 2015-02-01 12:45:44.6627 9969/7fddfc618780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS54aWxqN3UvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.xilj7u/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '9968', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 12:45:44.6702 9972/7f435cede780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.9968/generation-0/request
[ 2015-02-01 12:45:44.6802 9978/7fabaf8f3780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.9968/generation-0/logging
[ 2015-02-01 12:45:44.6805 9969/7fddfc618780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 10014 stdout: 
App 10014 stdout: 
[ 2015-02-01 12:45:47.2738 9972/7f435cdf8700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 12:45:47.2740 9972/7f435acd9700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:12: syntax error, unexpected ')', expecting tCOLON2 or '[' or '.'
				http_version = (env['HTTP_VERSION'],'/1.1').split('/',2)[1]
				                                           ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:15: syntax error, unexpected keyword_end, expecting ')'
/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:26: syntax error, unexpected keyword_end, expecting ')' (SyntaxError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 12:46:13.7746 9957/7f293abba780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 12:46:30.1926 10124/7f245ddb7780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5wanJiOWwvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.pjrb9l/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '10123', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 12:46:30.2000 10127/7f3242d51780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.10123/generation-0/request
[ 2015-02-01 12:46:30.2103 10133/7f3ad5c30780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.10123/generation-0/logging
[ 2015-02-01 12:46:30.2106 10124/7f245ddb7780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 10181 stdout: 
[ 2015-02-01 12:46:32.7949 10127/7f3242c6b700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 10181, listening on unix:/tmp/passenger.1.0.10123/generation-0/backends/preloader.10181
App 10200 stdout: 
App 10181 stderr: NoMethodError: undefined method `request_method' for #<Hash:0x00000001bc4570>
App 10181 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:13:in `call'
App 10181 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 10181 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 10181 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 10181 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 10181 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 12:52:08.4623 10570/7f3c36c54780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xOWYxcnAxL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.19f1rp1/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '10569', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 12:52:08.4696 10573/7f8071b52780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.10569/generation-0/request
[ 2015-02-01 12:52:08.4791 10579/7f462e230780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.10569/generation-0/logging
[ 2015-02-01 12:52:08.4794 10570/7f3c36c54780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 10617 stdout: 
[ 2015-02-01 12:52:11.0521 10573/7f8071a6c700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 10617, listening on unix:/tmp/passenger.1.0.10569/generation-0/backends/preloader.10617
App 10636 stdout: 
App 10617 stderr: NameError: uninitialized constant Celluloid::WebSocket::Rack::Request
App 10617 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:11:in `call'
App 10617 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 10617 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 10617 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 10617 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 10617 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 12:52:29.3884 10543/7f245ddb7780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 12:52:48.2058 10748/7f59b89f3780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xMTFqcmszL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.111jrk3/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '10747', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 12:52:48.2131 10751/7f72c49c2780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.10747/generation-0/request
[ 2015-02-01 12:52:48.2246 10757/7f9604bde780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.10747/generation-0/logging
[ 2015-02-01 12:52:48.2249 10748/7f59b89f3780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 10795 stdout: 
[ 2015-02-01 12:52:50.7793 10751/7f72c48dc700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 10795, listening on unix:/tmp/passenger.1.0.10747/generation-0/backends/preloader.10795
App 10814 stdout: 
App 10795 stderr: NoMethodError: undefined method `call' for nil:NilClass
App 10795 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:12:in `call'
App 10795 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 10795 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 10795 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 10795 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 10795 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 12:55:55.7333 10990/7f1d34db0780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xbHVienBsL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1lubzpl/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '10989', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 12:55:55.7395 10993/7fd7f61a8780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.10989/generation-0/request
[ 2015-02-01 12:55:55.7512 11000/7fdf29b25780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.10989/generation-0/logging
[ 2015-02-01 12:55:55.7515 10990/7f1d34db0780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 11037 stdout: 
[ 2015-02-01 12:55:58.3505 10993/7fd7f60c2700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 11037, listening on unix:/tmp/passenger.1.0.10989/generation-0/backends/preloader.11037
App 11056 stdout: 
App 11037 stderr: NameError: uninitialized constant URI::Generic
App 11037 stderr: 	/usr/lib/ruby/1.9.1/uri/common.rb:991:in `URI'
App 11037 stderr: 	/var/lib/gems/1.9.1/gems/websocket_parser-1.0.0/lib/websocket/client_handshake.rb:15:in `initialize'
App 11037 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:17:in `new'
App 11037 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:17:in `initialize'
App 11037 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:20:in `new'
App 11037 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:20:in `initialize_socket'
App 11037 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:16:in `call'
App 11037 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 11037 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 11037 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 11037 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 11037 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 12:57:10.9861 11107/7f1d34db0780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 12:57:44.4684 11359/7f46ce72b780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS45dm50ajYvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.9vntj6/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '11358', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 12:57:44.4753 11362/7f3aa6570780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.11358/generation-0/request
[ 2015-02-01 12:57:44.4862 11368/7fb36eaf0780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.11358/generation-0/logging
[ 2015-02-01 12:57:44.4865 11359/7f46ce72b780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 11404 stdout: 
[ 2015-02-01 12:57:47.0778 11362/7f3aa648a700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 11404, listening on unix:/tmp/passenger.1.0.11358/generation-0/backends/preloader.11404
App 11423 stdout: 
App 11404 stderr: NoMethodError: undefined method `downcase' for nil:NilClass
App 11404 stderr: 	/var/lib/gems/1.9.1/gems/websocket_parser-1.0.0/lib/websocket/client_handshake.rb:23:in `valid?'
App 11404 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:19:in `initialize'
App 11404 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:21:in `new'
App 11404 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:21:in `initialize_socket'
App 11404 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:17:in `call'
App 11404 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 11404 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 11404 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 11404 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 11404 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 13:06:00.9381 11958/7fe83be54780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xbjBoaW0yL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1n0him2/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '11957', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:06:00.9451 11961/7fd32fecd780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.11957/generation-0/request
[ 2015-02-01 13:06:00.9565 11967/7f5eab696780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.11957/generation-0/logging
[ 2015-02-01 13:06:00.9569 11958/7fe83be54780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 12005 stdout: 
App 12005 stdout: 
[ 2015-02-01 13:06:03.5525 11961/7fd32fde7700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 13:06:03.5527 11961/7fd32dcc8700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:16: syntax error, unexpected '='
...sh[req.params.select{|k,v| k ~= /^HTTP_/}.map{|k,v| [k[5..-1...
...                               ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:25: syntax error, unexpected keyword_do_block, expecting keyword_end
				websocket_methods.each do |meth|
				                         ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:26: syntax error, unexpected keyword_do_block, expecting keyword_end
					@websocket.send(meth) do |*params, &proc|
					                        ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:26: syntax error, unexpected tAMPER
					@websocket.send(meth) do |*params, &proc|
					                                    ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:32: syntax error, unexpected keyword_end, expecting $end (SyntaxError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 13:06:28.4612 11936/7f46ce72b780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 13:06:39.9660 12116/7fb6876a0780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xeHl3NWY1L3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1xyw5f5/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '12115', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:06:39.9721 12119/7f85fe661780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.12115/generation-0/request
[ 2015-02-01 13:06:39.9837 12126/7f3d2f562780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.12115/generation-0/logging
[ 2015-02-01 13:06:39.9841 12116/7fb6876a0780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 12161 stdout: 
[ 2015-02-01 13:06:42.5752 12119/7f85fe57b700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 12161, listening on unix:/tmp/passenger.1.0.12115/generation-0/backends/preloader.12161
App 12180 stdout: 
App 12161 stderr: NameError: uninitialized constant Reel::WebSocket::Response
App 12161 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:25:in `initialize'
App 12161 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:23:in `new'
App 12161 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:23:in `initialize_socket'
App 12161 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:19:in `call'
App 12161 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 12161 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 12161 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 12161 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 12161 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 13:07:47.5480 12272/7faf757b3780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xYnVpdDhjL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1buit8c/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '12271', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:07:47.5539 12275/7f4a694b8780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.12271/generation-0/request
[ 2015-02-01 13:07:47.5652 12280/7fb1f0915780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.12271/generation-0/logging
[ 2015-02-01 13:07:47.5655 12272/7faf757b3780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 12317 stdout: 
App 12317 stdout: 
[ 2015-02-01 13:07:50.1541 12275/7f4a693d2700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 13:07:50.1543 12275/7f4a5b7fe700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
uninitialized constant HTTP::Response (NameError)
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:10:in `<class:Response>'
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:4:in `<module:Reel>'
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:3:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:7:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 13:08:16.5682 12258/7fb6876a0780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 13:09:04.2446 12437/7f1693813780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4ydWdjMDUvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.2ugc05/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '12436', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:09:04.2519 12440/7fd4217d5780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.12436/generation-0/request
[ 2015-02-01 13:09:04.2625 12445/7faba1fed780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.12436/generation-0/logging
[ 2015-02-01 13:09:04.2628 12437/7f1693813780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 12482 stdout: 
App 12482 stdout: 
[ 2015-02-01 13:09:06.8710 12440/7fd4216ef700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 13:09:06.8713 12440/7fd412ffd700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
uninitialized constant HTTP::Response (NameError)
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:10:in `<class:Response>'
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:4:in `<module:Reel>'
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:3:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:7:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 13:09:55.7407 12555/7f1b22dd0780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xaG5icHdxL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1hnbpwq/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '12554', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:09:55.7481 12558/7f234b11e780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.12554/generation-0/request
[ 2015-02-01 13:09:55.7589 12564/7ff085c4f780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.12554/generation-0/logging
[ 2015-02-01 13:09:55.7593 12555/7f1b22dd0780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 12600 stdout: 
App 12600 stdout: 
[ 2015-02-01 13:09:58.3554 12558/7f234b038700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 13:09:58.3557 12558/7f2348f19700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
uninitialized constant HTTP::Response (NameError)
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:10:in `<class:Response>'
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:4:in `<module:Reel>'
  /var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/response.rb:3:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:7:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 13:11:16.4347 12717/7f087a2ad780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xajQ0emE5L3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1j44za9/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '12716', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:11:16.4410 12720/7f85fadb5780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.12716/generation-0/request
[ 2015-02-01 13:11:16.4528 12726/7f727d095780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.12716/generation-0/logging
[ 2015-02-01 13:11:16.4532 12717/7f087a2ad780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 12762 stdout: 
[ 2015-02-01 13:11:19.1870 12720/7f85faccf700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 12762, listening on unix:/tmp/passenger.1.0.12716/generation-0/backends/preloader.12762
App 12781 stdout: 
App 12762 stderr: NoMethodError: undefined method `render' for #<Reel::Response:0x000000007b6f88>
App 12762 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:27:in `initialize'
App 12762 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:27:in `new'
App 12762 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:27:in `initialize_socket'
App 12762 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:23:in `call'
App 12762 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 12762 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 12762 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 12762 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 12762 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 13:13:26.9219 12927/7f79eae5c780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS50bHhqYWUvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.tlxjae/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '12926', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:13:26.9279 12930/7f8c624e1780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.12926/generation-0/request
[ 2015-02-01 13:13:26.9402 12936/7facc62e8780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.12926/generation-0/logging
[ 2015-02-01 13:13:26.9405 12927/7f79eae5c780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 12972 stdout: 
[ 2015-02-01 13:13:29.5558 12930/7f8c623fb700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 12972, listening on unix:/tmp/passenger.1.0.12926/generation-0/backends/preloader.12972
App 12993 stdout: 
App 12972 stderr: NameError: uninitialized constant Reel::WebSocket::Response
App 12972 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.5.0/lib/reel/websocket.rb:25:in `initialize'
App 12972 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:25:in `new'
App 12972 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:25:in `initialize_socket'
App 12972 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:21:in `call'
App 12972 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.5.2/lib/rack/showexceptions.rb:24:in `call'
App 12972 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 12972 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 12972 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 12972 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 13:13:54.4353 12904/7f087a2ad780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 13:38:24.2661 14472/7f92adaf3780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xYTZiejVlL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1a6bz5e/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '14471', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:38:24.2731 14475/7f906e914780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.14471/generation-0/request
[ 2015-02-01 13:38:24.2847 14481/7f44104f5780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.14471/generation-0/logging
[ 2015-02-01 13:38:24.2851 14472/7f92adaf3780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 14517 stdout: 
App 14517 stdout: 
[ 2015-02-01 13:38:26.9810 14475/7f906e82e700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 13:38:26.9812 14475/7f9057fff700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
cannot load such file -- reel/request/info (LoadError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:6:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 13:38:53.1129 14451/7f79eae5c780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 13:44:32.9827 14785/7fe9540be780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xZWRld2xhL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1edewla/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '14784', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:44:32.9892 14788/7f7eb0276780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.14784/generation-0/request
[ 2015-02-01 13:44:32.0010 14794/7f6ee0b87780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.14784/generation-0/logging
[ 2015-02-01 13:44:32.0012 14785/7fe9540be780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 14830 stdout: 
App 14830 stdout: 
[ 2015-02-01 13:44:35.6862 14788/7f7eb0190700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 13:44:35.6865 14788/7f7eae071700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
cannot load such file -- reel/request/info (LoadError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:6:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 13:45:25.1149 14902/7fc4b8635780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5zcWdtdDkvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.sqgmt9/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '14901', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:45:25.1223 14905/7f99bc186780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.14901/generation-0/request
[ 2015-02-01 13:45:25.1323 14911/7f7ede3fb780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.14901/generation-0/logging
[ 2015-02-01 13:45:25.1325 14902/7fc4b8635780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 14949 stdout: 
[ 2015-02-01 13:45:28.0629 14905/7f99bc0a0700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 14949, listening on unix:/tmp/passenger.1.0.14901/generation-0/backends/preloader.14949
App 14968 stdout: 
App 14949 stderr: NameError: uninitialized constant Reel::WebSocket::Response
App 14949 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.3.0/lib/reel/websocket.rb:23:in `initialize'
App 14949 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:24:in `new'
App 14949 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:24:in `initialize_socket'
App 14949 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:20:in `call'
App 14949 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 14949 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 14949 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 14949 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 14949 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
App 14949 stderr: 
[ 2015-02-01 13:46:16.9270 15070/7f07d9a47780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xNjVuaG5kL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.165nhnd/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '15069', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:46:16.9334 15073/7f1afca0e780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.15069/generation-0/request
[ 2015-02-01 13:46:16.9454 15080/7f19e4422780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.15069/generation-0/logging
[ 2015-02-01 13:46:16.9457 15070/7f07d9a47780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 15117 stdout: 
App 15117 stdout: 
[ 2015-02-01 13:46:19.6229 15073/7f1afc928700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 13:46:19.6231 15073/7f1afa809700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
uninitialized constant Reel::Response::Http (NameError)
  /var/lib/gems/1.9.1/gems/reel-0.3.0/lib/reel/response.rb:9:in `<class:Response>'
  /var/lib/gems/1.9.1/gems/reel-0.3.0/lib/reel/response.rb:2:in `<module:Reel>'
  /var/lib/gems/1.9.1/gems/reel-0.3.0/lib/reel/response.rb:1:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:6:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 13:46:34.1609 15041/7fc4b8635780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 13:48:01.9266 15230/7fec342b9780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xdDg1MTM4L3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1t85138/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '15229', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 13:48:01.9325 15233/7fe3a920c780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.15229/generation-0/request
[ 2015-02-01 13:48:01.9444 15238/7f8130008780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.15229/generation-0/logging
[ 2015-02-01 13:48:01.9447 15230/7fec342b9780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 15275 stdout: 
[ 2015-02-01 13:48:04.8351 15233/7fe3a9126700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 15275, listening on unix:/tmp/passenger.1.0.15229/generation-0/backends/preloader.15275
App 15294 stdout: 
App 15275 stderr: NoMethodError: undefined method `<<' for #<PhusionPassenger::Utils::UnseekableSocket:0x00000001a0c840>
App 15275 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.3.0/lib/reel/response.rb:62:in `render'
App 15275 stderr: 	/var/lib/gems/1.9.1/gems/reel-0.3.0/lib/reel/websocket.rb:25:in `initialize'
App 15275 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:27:in `new'
App 15275 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:27:in `initialize_socket'
App 15275 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-rack-0.0.1/lib/celluloid/websocket/rack.rb:23:in `call'
App 15275 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 15275 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 15275 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 15275 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 15275 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:24:46.3580 16986/7f6cd275e780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xdGkyNmRrL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1ti26dk/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '16985', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:24:46.3655 16989/7f96670d3780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.16985/generation-0/request
[ 2015-02-01 14:24:46.3745 16995/7f3a29e08780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.16985/generation-0/logging
[ 2015-02-01 14:24:46.3748 16986/7f6cd275e780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 17031 stdout: 
App 17031 stdout: 
[ 2015-02-01 14:24:48.9423 16989/7f9666fed700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 14:24:48.9425 16989/7f9664ece700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:15: syntax error, unexpected '='
...sh[env.params.select{|k,v| k ~= /^HTTP_/}.map{|k,v| [k[5..-1...
...                               ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:15: syntax error, unexpected '}', expecting ']'
... /^HTTP_/}.map{|k,v| [k[5..-1]}]
...                               ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:35: syntax error, unexpected keyword_do_block, expecting '}'
			@parser.on_close do |status, reason|
			                   ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:35: syntax error, unexpected '|', expecting '='
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:40: syntax error, unexpected keyword_end, expecting '}'
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:42: syntax error, unexpected keyword_do_block, expecting '}'
			@parser.on_ping do |payload|
			                  ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:44: syntax error, unexpected keyword_end, expecting '}'
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:47: syntax error, unexpected keyword_do_block, expecting '}'
...se, :on_ping, :on_pong].each do |meth|
...                               ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:48: syntax error, unexpected tIDENTIFIER, expecting keyword_do or '{' or '('
			define_method meth do |&proc|
			                  ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:49: syntax error, unexpected tIDENTIFIER, expecting '}'
				@parser.send __method__, &proc
				                       ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:105: syntax error, unexpected keyword_end, expecting '}' (SyntaxError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:55:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:1:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 14:25:13.7661 16964/7fec342b9780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 14:26:06.6074 17198/7f2f68316780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS52eXZvNmkvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.vyvo6i/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '17197', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:26:06.6138 17201/7fe17f6c3780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.17197/generation-0/request
[ 2015-02-01 14:26:06.6253 17207/7f2156333780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.17197/generation-0/logging
[ 2015-02-01 14:26:06.6257 17198/7f2f68316780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 17243 stdout: 
App 17243 stdout: 
[ 2015-02-01 14:26:09.2204 17201/7fe17f5dd700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 14:26:09.2207 17201/7fe17d4be700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:15: syntax error, unexpected '}', expecting ']'
... /^HTTP_/}.map{|k,v| [k[5..-1]}]
...                               ^
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:45: syntax error, unexpected keyword_end, expecting '}'
/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:105: syntax error, unexpected keyword_end, expecting '}' (SyntaxError)
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:1:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 14:26:42.4137 17332/7f87dbb36780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4zYXB5YTQvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.3apya4/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '17331', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:26:42.4210 17335/7f8cce24e780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.17331/generation-0/request
[ 2015-02-01 14:26:42.4332 17342/7f6802b72780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.17331/generation-0/logging
[ 2015-02-01 14:26:42.4335 17332/7f87dbb36780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 17378 stdout: 
[ 2015-02-01 14:26:45.0337 17335/7f8cce168700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 17378, listening on unix:/tmp/passenger.1.0.17331/generation-0/backends/preloader.17378
App 17397 stdout: 
App 17378 stderr: NameError: uninitialized constant URI::Generic
App 17378 stderr: 	/usr/lib/ruby/1.9.1/uri/common.rb:991:in `URI'
App 17378 stderr: 	/var/lib/gems/1.9.1/gems/websocket_parser-1.0.0/lib/websocket/client_handshake.rb:15:in `initialize'
App 17378 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:18:in `new'
App 17378 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:18:in `initialize'
App 17378 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `new'
App 17378 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `initialize_websocket'
App 17378 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:11:in `call'
App 17378 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 17378 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 17378 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 17378 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 17378 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:27:34.3734 17497/7f1d6f531780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xeHFudHRhL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1xqntta/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '17496', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:27:34.3795 17500/7f4196442780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.17496/generation-0/request
[ 2015-02-01 14:27:34.3916 17506/7fe877106780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.17496/generation-0/logging
[ 2015-02-01 14:27:34.3920 17497/7f1d6f531780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 17544 stdout: 
[ 2015-02-01 14:27:36.9953 17500/7f419635c700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 17544, listening on unix:/tmp/passenger.1.0.17496/generation-0/backends/preloader.17544
App 17563 stdout: 
App 17544 stderr: NameError: uninitialized constant Celluloid::WebSocket::Response
App 17544 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:27:in `initialize'
App 17544 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `new'
App 17544 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `initialize_websocket'
App 17544 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:11:in `call'
App 17544 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 17544 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 17544 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 17544 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 17544 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:28:03.4222 17485/7f87dbb36780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 14:28:34.8608 17680/7fe0d0550780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5sNTJkcmUvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.l52dre/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '17679', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:28:34.8681 17683/7f9dad0b9780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.17679/generation-0/request
[ 2015-02-01 14:28:34.8785 17689/7f320017b780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.17679/generation-0/logging
[ 2015-02-01 14:28:34.8797 17680/7fe0d0550780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 17725 stdout: 
[ 2015-02-01 14:28:37.4581 17683/7f9dacfd3700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 17725, listening on unix:/tmp/passenger.1.0.17679/generation-0/backends/preloader.17725
App 17746 stdout: 
App 17725 stderr: NameError: uninitialized constant Celluloid::WebSocket::HandshakeError
App 17725 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:27:in `initialize'
App 17725 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `new'
App 17725 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `initialize_websocket'
App 17725 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:11:in `call'
App 17725 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 17725 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 17725 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 17725 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 17725 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:29:03.3842 17661/7f1d6f531780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 14:29:54.7710 17889/7f61c46e2780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5qbzB0azkvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.jo0tk9/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '17888', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:29:54.7777 17892/7fd6db88e780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.17888/generation-0/request
[ 2015-02-01 14:29:54.7895 17898/7fc695afc780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.17888/generation-0/logging
[ 2015-02-01 14:29:54.7898 17889/7f61c46e2780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 17934 stdout: 
App 17934 stdout: 
[ 2015-02-01 14:29:57.3806 17892/7fd6db7a8700 Pool2/Implementation.cpp:883 ]: Could not spawn process for group /home/phusion/Source/celluloid-websocket-rack/examples#default: An error occured while starting up the preloader.
     in 'void Passenger::ApplicationPool2::SmartSpawner::handleErrorResponse(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:455)
     in 'std::string Passenger::ApplicationPool2::SmartSpawner::negotiatePreloaderStartup(Passenger::ApplicationPool2::SmartSpawner::StartupDetails&)' (SmartSpawner.h:566)
     in 'void Passenger::ApplicationPool2::SmartSpawner::startPreloader()' (SmartSpawner.h:206)
     in 'virtual Passenger::ApplicationPool2::ProcessPtr Passenger::ApplicationPool2::SmartSpawner::spawn(const Passenger::ApplicationPool2::Options&)' (SmartSpawner.h:752)
     in 'void Passenger::ApplicationPool2::Group::spawnThreadRealMain(const SpawnerPtr&, const Passenger::ApplicationPool2::Options&, unsigned int)' (Implementation.cpp:804)

[ 2015-02-01 14:29:57.3809 17892/7fd6d9689700 agents/HelperAgent/RequestHandler.h:2222 ]: [Client 20] Cannot checkout session.
Error page:
uninitialized constant Celluloid::RequestError (NameError)
  /var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:104:in `<module:Celluloid>'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:5:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:36:in `require'
  /var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:1:in `<top (required)>'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:60:in `rescue in require'
  /usr/lib/ruby/1.9.1/rubygems/custom_require.rb:35:in `require'
  message_counter.ru:1:in `block in <main>'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `instance_eval'
  /var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/builder.rb:55:in `initialize'
  message_counter.ru:1:in `new'
  message_counter.ru:1:in `<main>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `eval'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:112:in `preload_app'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:158:in `<module:App>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:29:in `<module:PhusionPassenger>'
  /home/phusion/Source/passenger/helper-scripts/rack-preloader.rb:28:in `<main>'

[ 2015-02-01 14:30:20.7231 18019/7f85b300e780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5oOW9wMnEvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.h9op2q/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '18017', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:30:20.7305 18022/7f31e47b5780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.18017/generation-0/request
[ 2015-02-01 14:30:20.7405 18028/7fc8b3f55780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.18017/generation-0/logging
[ 2015-02-01 14:30:20.7408 18019/7f85b300e780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
[ 2015-02-01 14:30:22.5963 17869/7fe0d0550780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
App 18068 stdout: 
[ 2015-02-01 14:30:23.3227 18022/7f31e46cf700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 18068, listening on unix:/tmp/passenger.1.0.18017/generation-0/backends/preloader.18068
App 18087 stdout: 
App 18068 stderr: Celluloid::HandshakeError: error during handshake: Connection upgrade is not for websocket
App 18068 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:27:in `initialize'
App 18068 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `new'
App 18068 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `initialize_websocket'
App 18068 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:11:in `call'
App 18068 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 18068 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 18068 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 18068 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 18068 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:35:27.7452 18449/7f48493ad780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xZGl1aTQ3L3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1diui47/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '18448', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:35:27.7524 18452/7f8d7a0db780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.18448/generation-0/request
[ 2015-02-01 14:35:27.7631 18458/7fc4d9bda780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.18448/generation-0/logging
[ 2015-02-01 14:35:27.7635 18449/7f48493ad780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 18496 stdout: 
[ 2015-02-01 14:35:30.3461 18452/7f8d79ff5700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 18496, listening on unix:/tmp/passenger.1.0.18448/generation-0/backends/preloader.18496
App 18515 stdout: 
[ 2015-02-01 14:35:56.7589 18437/7f85b300e780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
App 18496 stderr: NoMethodError: undefined method `downcase' for nil:NilClass
App 18496 stderr: 	/var/lib/gems/1.9.1/gems/websocket_parser-1.0.0/lib/websocket/client_handshake.rb:23:in `valid?'
App 18496 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:19:in `initialize'
App 18496 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `new'
App 18496 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `initialize_websocket'
App 18496 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `call'
App 18496 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 18496 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 18496 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 18496 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 18496 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:40:25.2898 18878/7f06d4738780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xbTlwNWhsL3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1m9p5hl/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '18877', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:40:25.2956 18881/7ffb8f8cd780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.18877/generation-0/request
[ 2015-02-01 14:40:25.3076 18887/7f6a6da1f780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.18877/generation-0/logging
[ 2015-02-01 14:40:25.3080 18878/7f06d4738780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 18925 stdout: 
[ 2015-02-01 14:40:27.9403 18881/7ffb8f7e7700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 18925, listening on unix:/tmp/passenger.1.0.18877/generation-0/backends/preloader.18925
App 18944 stdout: 
App 18925 stderr: NameError: uninitialized constant Celluloid::WebSocket::CASE_INSENSITIVE_HASH
App 18925 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:20:in `initialize'
App 18925 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `new'
App 18925 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `initialize_websocket'
App 18925 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `call'
App 18925 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 18925 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 18925 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 18925 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 18925 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:40:54.2704 18864/7f48493ad780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 14:41:04.5358 19056/7fb8355ec780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5ja2JkcHAvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.ckbdpp/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '19055', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:41:04.5429 19059/7ff6e4f18780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.19055/generation-0/request
[ 2015-02-01 14:41:04.5536 19066/7f07469a0780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.19055/generation-0/logging
[ 2015-02-01 14:41:04.5539 19056/7fb8355ec780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 19101 stdout: 
[ 2015-02-01 14:41:07.1651 19059/7ff6e4e32700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 19101, listening on unix:/tmp/passenger.1.0.19055/generation-0/backends/preloader.19101
App 19120 stdout: 
App 19101 stderr: NoMethodError: undefined method `downcase' for nil:NilClass
App 19101 stderr: 	/var/lib/gems/1.9.1/gems/websocket_parser-1.0.0/lib/websocket/client_handshake.rb:23:in `valid?'
App 19101 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:23:in `initialize'
App 19101 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `new'
App 19101 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `initialize_websocket'
App 19101 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `call'
App 19101 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 19101 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 19101 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 19101 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 19101 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:41:30.6225 19032/7f06d4738780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 14:41:44.4874 19227/7f28f727c780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5mcTk5NDYvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.fq9946/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '19226', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:41:44.4939 19230/7f44ca2db780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.19226/generation-0/request
[ 2015-02-01 14:41:44.5057 19236/7f124469c780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.19226/generation-0/logging
[ 2015-02-01 14:41:44.5071 19227/7f28f727c780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 19272 stdout: 
[ 2015-02-01 14:41:47.1241 19230/7f44ca1f5700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 19272, listening on unix:/tmp/passenger.1.0.19226/generation-0/backends/preloader.19272
App 19293 stdout: 
App 19293 stdout: {}
App 19272 stderr: NoMethodError: undefined method `downcase' for nil:NilClass
App 19272 stderr: 	/var/lib/gems/1.9.1/gems/websocket_parser-1.0.0/lib/websocket/client_handshake.rb:23:in `valid?'
App 19272 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:26:in `initialize'
App 19272 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `new'
App 19272 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `initialize_websocket'
App 19272 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `call'
App 19272 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 19272 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 19272 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 19272 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 19272 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:42:13.1477 19208/7fb8355ec780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 14:42:28.5767 19403/7f94e22d4780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS4xaHozdXA1L3RlbXBfZGlyX3RvdWNoZXIucGlk', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.1hz3up5/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '19402', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:42:28.5831 19406/7f2ced95a780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.19402/generation-0/request
[ 2015-02-01 14:42:28.5946 19411/7f51f9149780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.19402/generation-0/logging
[ 2015-02-01 14:42:28.5949 19403/7f94e22d4780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 19448 stdout: 
[ 2015-02-01 14:42:31.1874 19406/7f2ced874700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 19448, listening on unix:/tmp/passenger.1.0.19402/generation-0/backends/preloader.19448
App 19467 stdout: 
App 19467 stdout: {}
App 19467 stdout: 
App 19467 stdout: {}
App 19448 stderr: NoMethodError: undefined method `downcase' for nil:NilClass
App 19448 stderr: 	/var/lib/gems/1.9.1/gems/websocket_parser-1.0.0/lib/websocket/client_handshake.rb:23:in `valid?'
App 19448 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:28:in `initialize'
App 19448 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `new'
App 19448 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:19:in `initialize_websocket'
App 19448 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:15:in `call'
App 19448 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 19448 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 19448 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 19448 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 19448 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:42:56.5999 19381/7f28f727c780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 14:47:58.2935 19817/7f5608057780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS56dGJteHMvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.ztbmxs/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '19816', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:47:58.3007 19820/7fd4c8ebc780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.19816/generation-0/request
[ 2015-02-01 14:47:58.3109 19826/7fba477a6780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.19816/generation-0/logging
[ 2015-02-01 14:47:58.3112 19817/7f5608057780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 19862 stdout: 
[ 2015-02-01 14:48:00.9389 19820/7fd4c8dd6700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 19862, listening on unix:/tmp/passenger.1.0.19816/generation-0/backends/preloader.19862
App 19881 stdout: 
App 19881 stdout: {"DOCUMENT_ROOT"=>"/home/phusion/Source/celluloid-websocket-rack/examples/public", "SCRIPT_NAME"=>"", "PATH_INFO"=>"/websocket", "REQUEST_URI"=>"/websocket", "SERVER_NAME"=>"localhost", "PASSENGER_APP_ENV"=>"development", "PASSENGER_MIN_PROCESSES"=>"1", "PASSENGER_USER"=>"phusion", "PASSENGER_APP_ROOT"=>"/home/phusion/Source/celluloid-websocket-rack/examples", "PASSENGER_SPAWN_METHOD"=>"smart", "PASSENGER_STARTUP_FILE"=>"message_counter.ru", "PASSENGER_APP_TYPE"=>"rack", "SCGI"=>"1", "QUERY_STRING"=>"", "REQUEST_METHOD"=>"GET", "SERVER_PROTOCOL"=>"HTTP/1.1", "SERVER_SOFTWARE"=>"nginx/1.4.7", "REMOTE_ADDR"=>"127.0.0.1", "REMOTE_PORT"=>"34855", "SERVER_ADDR"=>"127.0.0.1", "SERVER_PORT"=>"3000", "HTTP_HOST"=>"localhost:3000", "HTTP_CONNECTION"=>"Upgrade", "HTTP_PRAGMA"=>"no-cache", "HTTP_CACHE_CONTROL"=>"no-cache", "HTTP_UPGRADE"=>"websocket", "HTTP_ORIGIN"=>"http://localhost:3000", "HTTP_SEC_WEBSOCKET_VERSION"=>"13", "HTTP_USER_AGENT"=>"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36", "HTTP_ACCEPT_ENCODING"=>"gzip, deflate, sdch", "HTTP_ACCEPT_LANGUAGE"=>"en-US,en;q=0.8,nl;q=0.6", "HTTP_SEC_WEBSOCKET_KEY"=>"PMpoDv8hJvbUv5NKZBdrLw==", "HTTP_SEC_WEBSOCKET_EXTENSIONS"=>"permessage-deflate; client_max_window_bits", "PASSENGER_CONNECT_PASSWORD"=>"xTxNKX7d4jIH7JLOIDpw8YZhgaGN4IPVjMVWR7AI62k", "rack.version"=>[1, 2], "rack.input"=>#<PhusionPassenger::Utils::TeeInput:0x0000000168a3e8 @len=0, @socket=#<PhusionPassenger::Utils::UnseekableSocket:0x000000016840b0 @socket=#<UNIXSocket:fd 9>>, @bytes_read=0, @tmp=#<StringIO:0x0000000168a320>>, "rack.errors"=>#<IO:<STDERR>>, "rack.multithread"=>false, "rack.multiprocess"=>true, "rack.run_once"=>false, "rack.url_scheme"=>"http", "rack.hijack?"=>true, "rack.hijack"=>#<Proc:0x00000001689da8@/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:69 (lambda)>, "rack.hijack_io"=>#<PhusionPassenger::Utils::UnseekableSocket:0x000000016840b0 @socket=#<UNIXSocket:fd 9>>}
App 19862 stderr: NameError: uninitialized constant Celluloid::WebSocket::Rack::Request
App 19862 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:29:in `initialize'
App 19862 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:18:in `new'
App 19862 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:18:in `initialize_websocket'
App 19881 stdout: {"HOST"=>"localhost:3000", "CONNECTION"=>"Upgrade", "PRAGMA"=>"no-cache", "CACHE_CONTROL"=>"no-cache", "UPGRADE"=>"websocket", "ORIGIN"=>"http://localhost:3000", "SEC_WEBSOCKET_VERSION"=>"13", "USER_AGENT"=>"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36", "ACCEPT_ENCODING"=>"gzip, deflate, sdch", "ACCEPT_LANGUAGE"=>"en-US,en;q=0.8,nl;q=0.6", "SEC_WEBSOCKET_KEY"=>"PMpoDv8hJvbUv5NKZBdrLw==", "SEC_WEBSOCKET_EXTENSIONS"=>"permessage-deflate; client_max_window_bits"}
App 19862 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:14:in `call'
App 19862 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 19862 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 19862 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 19862 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 19862 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:48:24.0832 19969/7fab84877780 agents/Watchdog/Main.cpp:538 ]: Options: { 'analytics_log_user' => 'phusion', 'cleanup_pidfiles' => 'L3RtcC9wYXNzZW5nZXItc3RhbmRhbG9uZS5kNDRkdWMvdGVtcF9kaXJfdG91Y2hlci5waWQ=', 'default_group' => 'phusion', 'default_python' => 'python', 'default_ruby' => '/usr/bin/ruby1.9.1', 'default_user' => 'phusion', 'log_level' => '0', 'max_pool_size' => '6', 'passenger_root' => '/tmp/passenger-standalone.d44duc/locations.ini', 'passenger_version' => '4.0.42', 'pool_idle_time' => '300', 'prestart_urls' => 'aHR0cDovLzAuMC4wLjA6MzAwMAA=', 'temp_dir' => '/tmp', 'union_station_gateway_address' => 'gateway.unionstationapp.com', 'union_station_gateway_port' => '443', 'user_switching' => 'false', 'web_server_passenger_version' => '4.0.42', 'web_server_pid' => '19968', 'web_server_type' => 'nginx', 'web_server_worker_gid' => '-1', 'web_server_worker_uid' => '-1' }
[ 2015-02-01 14:48:24.0905 19972/7f8f490e0780 agents/HelperAgent/Main.cpp:643 ]: PassengerHelperAgent online, listening at unix:/tmp/passenger.1.0.19968/generation-0/request
[ 2015-02-01 14:48:24.1006 19978/7f310c902780 agents/LoggingAgent/Main.cpp:321 ]: PassengerLoggingAgent online, listening at unix:/tmp/passenger.1.0.19968/generation-0/logging
[ 2015-02-01 14:48:24.1009 19969/7fab84877780 agents/Watchdog/Main.cpp:728 ]: All Phusion Passenger agents started!
App 20018 stdout: 
[ 2015-02-01 14:48:26.7007 19972/7f8f48ffa700 Pool2/SmartSpawner.h:301 ]: Preloader for /home/phusion/Source/celluloid-websocket-rack/examples started on PID 20018, listening on unix:/tmp/passenger.1.0.19968/generation-0/backends/preloader.20018
App 20037 stdout: 
[ 2015-02-01 14:48:26.8229 19798/7f94e22d4780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
App 20037 stdout: {"DOCUMENT_ROOT"=>"/home/phusion/Source/celluloid-websocket-rack/examples/public", "SCRIPT_NAME"=>"", "PATH_INFO"=>"/websocket", "REQUEST_URI"=>"/websocket", "SERVER_NAME"=>"localhost", "PASSENGER_APP_ENV"=>"development", "PASSENGER_MIN_PROCESSES"=>"1", "PASSENGER_USER"=>"phusion", "PASSENGER_APP_ROOT"=>"/home/phusion/Source/celluloid-websocket-rack/examples", "PASSENGER_SPAWN_METHOD"=>"smart", "PASSENGER_STARTUP_FILE"=>"message_counter.ru", "PASSENGER_APP_TYPE"=>"rack", "SCGI"=>"1", "QUERY_STRING"=>"", "REQUEST_METHOD"=>"GET", "SERVER_PROTOCOL"=>"HTTP/1.1", "SERVER_SOFTWARE"=>"nginx/1.4.7", "REMOTE_ADDR"=>"127.0.0.1", "REMOTE_PORT"=>"34861", "SERVER_ADDR"=>"127.0.0.1", "SERVER_PORT"=>"3000", "HTTP_HOST"=>"localhost:3000", "HTTP_CONNECTION"=>"Upgrade", "HTTP_PRAGMA"=>"no-cache", "HTTP_CACHE_CONTROL"=>"no-cache", "HTTP_UPGRADE"=>"websocket", "HTTP_ORIGIN"=>"http://localhost:3000", "HTTP_SEC_WEBSOCKET_VERSION"=>"13", "HTTP_USER_AGENT"=>"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36", "HTTP_ACCEPT_ENCODING"=>"gzip, deflate, sdch", "HTTP_ACCEPT_LANGUAGE"=>"en-US,en;q=0.8,nl;q=0.6", "HTTP_SEC_WEBSOCKET_KEY"=>"wD13dtF5EuM/Z0//G54BVQ==", "HTTP_SEC_WEBSOCKET_EXTENSIONS"=>"permessage-deflate; client_max_window_bits", "PASSENGER_CONNECT_PASSWORD"=>"cgn6yPOeHzIvgV3cCIMrSQ20AS5cEKOsdWFkyAgdBqG", "rack.version"=>[1, 2], "rack.input"=>#<PhusionPassenger::Utils::TeeInput:0x00000000c9ddf8 @len=0, @socket=#<PhusionPassenger::Utils::UnseekableSocket:0x00000000c97638 @socket=#<UNIXSocket:fd 9>>, @bytes_read=0, @tmp=#<StringIO:0x00000000ca5d00>>, "rack.errors"=>#<IO:<STDERR>>, "rack.multithread"=>false, "rack.multiprocess"=>true, "rack.run_once"=>false, "rack.url_scheme"=>"http", "rack.hijack?"=>true, "rack.hijack"=>#<Proc:0x00000000ca53f0@/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:69 (lambda)>, "rack.hijack_io"=>#<PhusionPassenger::Utils::UnseekableSocket:0x00000000c97638 @socket=#<UNIXSocket:fd 9>>}
App 20037 stdout: {"HOST"=>"localhost:3000", "CONNECTION"=>"Upgrade", "PRAGMA"=>"no-cache", "CACHE_CONTROL"=>"no-cache", "UPGRADE"=>"websocket", "ORIGIN"=>"http://localhost:3000", "SEC_WEBSOCKET_VERSION"=>"13", "USER_AGENT"=>"Mozilla/5.0 (X11; Linux x86_64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/39.0.2171.71 Safari/537.36", "ACCEPT_ENCODING"=>"gzip, deflate, sdch", "ACCEPT_LANGUAGE"=>"en-US,en;q=0.8,nl;q=0.6", "SEC_WEBSOCKET_KEY"=>"wD13dtF5EuM/Z0//G54BVQ==", "SEC_WEBSOCKET_EXTENSIONS"=>"permessage-deflate; client_max_window_bits"}
App 20018 stderr: Celluloid::HandshakeError: error during handshake: Protocol version not supported ''
App 20018 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket.rb:38:in `initialize'
App 20018 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:18:in `new'
App 20018 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:18:in `initialize_websocket'
App 20018 stderr: 	/var/lib/gems/1.9.1/gems/celluloid-websocket-0.0.1/lib/celluloid/websocket/rack.rb:14:in `call'
App 20018 stderr: 	/var/lib/gems/1.9.1/gems/rack-1.6.0/lib/rack/showexceptions.rb:24:in `call'
App 20018 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/rack/thread_handler_extension.rb:74:in `process_request'
App 20018 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:141:in `accept_and_process_next_request'
App 20018 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler/thread_handler.rb:109:in `main_loop'
App 20018 stderr: 	/home/phusion/Source/passenger/lib/phusion_passenger/request_handler.rb:448:in `block (3 levels) in start_threads'
[ 2015-02-01 14:48:51.3736 19947/7f5608057780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
[ 2015-02-01 14:52:48.0304 20296/7fab84877780 agents/Watchdog/Main.cpp:386 ]: Some Phusion Passenger agent processes did not exit in time, forcefully shutting down all.
